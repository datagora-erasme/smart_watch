

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Évaluateur du Pipeline &mdash; SmartWatch Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.jpg"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=3afee5ec"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/translations.js?v=e6b791cb"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Recherche" href="../../../search.html" />
    <link rel="next" title="Scorer" href="scorer.html" />
    <link rel="prev" title="Module d’Évaluation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            SmartWatch
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/introduction.html">Présentation du projet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/sommaire.html">Sommaire</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Démarrage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/docker.html">Utilisation avec Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/choosing_embeddings.html">Choix des embeddings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture technique</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../main.html">Orchestrateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/diagramme.html">Pipeline de traitement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/bdd.html">Base de données</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/stack.html">Stack technique</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Modules Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Core</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Modules Core</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../processing/index.html">Modules Processing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Reporting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reporting/index.html">Modules Reporting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Utils</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">Modules Utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Module Évaluation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module d’Évaluation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#principe-de-fonctionnement">Principe de fonctionnement</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#comment-l-utiliser">Comment l’utiliser ?</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#composition-du-module">Composition du Module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SmartWatch</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module d’Évaluation</a></li>
      <li class="breadcrumb-item active">Évaluateur du Pipeline</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/source/modules/evaluate/evaluator.rst.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="evaluateur-du-pipeline">
<h1>Évaluateur du Pipeline<a class="headerlink" href="#evaluateur-du-pipeline" title="Lien vers cette rubrique"></a></h1>
<p>Le module <code class="docutils literal notranslate"><span class="pre">evaluator</span></code> orchestre le processus d’évaluation complet.</p>
<div class="admonition-role admonition">
<p class="admonition-title">Rôle</p>
<p>La classe <code class="docutils literal notranslate"><span class="pre">Evaluator</span></code> est le chef d’orchestre du module d’évaluation. Elle simule le pipeline de traitement de SmartWatch sur un jeu de données fourni (un fichier CSV) et utilise les autres composants (Scorer, Metrics) pour calculer et afficher les résultats.</p>
</div>
<section id="fonctionnalites">
<h2>Fonctionnalités<a class="headerlink" href="#fonctionnalites" title="Lien vers cette rubrique"></a></h2>
<ul class="simple">
<li><p>Charge un jeu de données d’évaluation depuis un fichier CSV (séparateur = ;)</p></li>
<li><p>Pour chaque item, exécute les étapes clés du pipeline : récupération de l’URL, nettoyage et filtrage du Markdown, et extraction par le LLM.</p></li>
<li><p>Fait appel au <code class="docutils literal notranslate"><span class="pre">Scorer</span></code> pour comparer le résultat prédit avec la vérité terrain.</p></li>
<li><p>Collecte tous les résultats et les transmet à <code class="docutils literal notranslate"><span class="pre">EvaluationMetrics</span></code> pour l’affichage du rapport final.</p></li>
</ul>
</section>
<section id="module-src.smart_watch.evaluate.evaluator">
<span id="module"></span><h2>Module<a class="headerlink" href="#module-src.smart_watch.evaluate.evaluator" title="Lien vers cette rubrique"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.smart_watch.evaluate.evaluator.</span></span><span class="sig-name descname"><span class="pre">Evaluator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../core/ConfigManager.html#src.smart_watch.core.ConfigManager.ConfigManager" title="src.smart_watch.core.ConfigManager.ConfigManager"><span class="pre">ConfigManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger" title="src.smart_watch.core.Logger.SmartWatchLogger"><span class="pre">SmartWatchLogger</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/src/smart_watch/evaluate/evaluator.html#Evaluator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator" title="Lien vers cette définition"></a></dt>
<dd><p>Bases : <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(disponible dans Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Orchestre l’évaluation du pipeline sur un jeu de données.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../core/ConfigManager.html#src.smart_watch.core.ConfigManager.ConfigManager" title="src.smart_watch.core.ConfigManager.ConfigManager"><span class="pre">ConfigManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger" title="src.smart_watch.core.Logger.SmartWatchLogger"><span class="pre">SmartWatchLogger</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(disponible dans Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/evaluate/evaluator.html#Evaluator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.__init__" title="Lien vers cette définition"></a></dt>
<dd><p>Initialise l’évaluateur avec la configuration et le logger.</p>
<p>Cette méthode configure tous les composants nécessaires pour effectuer
l’évaluation du pipeline : nettoyeur de markdown, processeur de markdown,
processeur LLM et scoreur.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="../core/ConfigManager.html#src.smart_watch.core.ConfigManager.ConfigManager" title="src.smart_watch.core.ConfigManager.ConfigManager"><em>ConfigManager</em></a>) – gestionnaire de configuration du système.</p></li>
<li><p><strong>logger</strong> (<a class="reference internal" href="../core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger" title="src.smart_watch.core.Logger.SmartWatchLogger"><em>SmartWatchLogger</em></a>) – instance de logger pour la journalisation des événements.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.config" title="Lien vers cette définition"></a></dt>
<dd><p>gestionnaire de configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../core/ConfigManager.html#src.smart_watch.core.ConfigManager.ConfigManager" title="src.smart_watch.core.ConfigManager.ConfigManager">ConfigManager</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.logger">
<span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.logger" title="Lien vers cette définition"></a></dt>
<dd><p>instance de logger.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger" title="src.smart_watch.core.Logger.SmartWatchLogger">SmartWatchLogger</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.markdown_cleaner">
<span class="sig-name descname"><span class="pre">markdown_cleaner</span></span><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.markdown_cleaner" title="Lien vers cette définition"></a></dt>
<dd><p>nettoyeur de contenu markdown.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../utils/MarkdownCleaner.html#src.smart_watch.utils.MarkdownCleaner.MarkdownCleaner" title="src.smart_watch.utils.MarkdownCleaner.MarkdownCleaner">MarkdownCleaner</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.markdown_processor">
<span class="sig-name descname"><span class="pre">markdown_processor</span></span><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.markdown_processor" title="Lien vers cette définition"></a></dt>
<dd><p>processeur de filtrage markdown.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../processing/markdown_processor.html#src.smart_watch.processing.markdown_processor.MarkdownProcessor" title="src.smart_watch.processing.markdown_processor.MarkdownProcessor">MarkdownProcessor</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.llm_processor">
<span class="sig-name descname"><span class="pre">llm_processor</span></span><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.llm_processor" title="Lien vers cette définition"></a></dt>
<dd><p>processeur d’extraction LLM.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../processing/llm_processor.html#src.smart_watch.processing.llm_processor.LLMProcessor" title="src.smart_watch.processing.llm_processor.LLMProcessor">LLMProcessor</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.scorer">
<span class="sig-name descname"><span class="pre">scorer</span></span><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.scorer" title="Lien vers cette définition"></a></dt>
<dd><p>scoreur pour comparer les résultats.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="scorer.html#src.smart_watch.evaluate.scorer.Scorer" title="src.smart_watch.evaluate.scorer.Scorer">Scorer</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.results">
<span class="sig-name descname"><span class="pre">results</span></span><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.results" title="Lien vers cette définition"></a></dt>
<dd><p>liste des résultats de scoring.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="scorer.html#src.smart_watch.evaluate.scorer.ScoreResult" title="src.smart_watch.evaluate.scorer.ScoreResult">ScoreResult</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator._process_single_item">
<span class="sig-name descname"><span class="pre">_process_single_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_truth_osm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="scorer.html#src.smart_watch.evaluate.scorer.ScoreResult" title="src.smart_watch.evaluate.scorer.ScoreResult"><span class="pre">ScoreResult</span></a></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/evaluate/evaluator.html#Evaluator._process_single_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator._process_single_item" title="Lien vers cette définition"></a></dt>
<dd><p>Exécute le pipeline complet pour une seule URL et la score.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.evaluate.evaluator.Evaluator.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(disponible dans Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/evaluate/evaluator.html#Evaluator.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.evaluate.evaluator.Evaluator.run" title="Lien vers cette définition"></a></dt>
<dd><p>Lance l’évaluation sur l’ensemble du fichier.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="index.html" class="btn btn-neutral float-left" title="Module d’Évaluation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="scorer.html" class="btn btn-neutral float-right" title="Scorer" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <div class="custom-footer">
    <p><a href="https://github.com/datagora-erasme/smart_watch" target="_blank">SmartWatch</a> est développé par <a href="https://github.com/berangerthomas" target="_blank">Béranger THOMAS</a> 
        pour <a href="https://erasme.org/" target="_blank">ERASME</a> / <a href="https://www.grandlyon.com/" target="_blank">Métropole de Lyon</a></p>
    </div>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>