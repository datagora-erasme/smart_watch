

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CSV to Polars &mdash; SmartWatch Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.jpg"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=3afee5ec"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/translations.js?v=e6b791cb"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Recherche" href="../../../search.html" />
    <link rel="next" title="CustomJsonToOSM" href="CustomJsonToOSM.html" />
    <link rel="prev" title="Modules Utils" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            SmartWatch
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/introduction.html">Présentation du projet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/introduction.html#sommaire">Sommaire</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Démarrage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/docker.html">Utilisation avec Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/configuration.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture technique</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../main.html">Orchestrateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/diagramme.html">Pipeline de traitement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/bdd.html">Base de données</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/stack.html">Stack technique</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Modules Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Core</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Modules Core</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../processing/index.html">Modules Processing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Reporting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reporting/index.html">Modules Reporting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Utils</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Modules Utils</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#modules">Modules</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SmartWatch</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Modules Utils</a></li>
      <li class="breadcrumb-item active">CSV to Polars</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/source/modules/utils/CSVToPolars.rst.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="csv-to-polars">
<h1>CSV to Polars<a class="headerlink" href="#csv-to-polars" title="Lien vers cette rubrique"></a></h1>
<p>Le module CSVToPolars convertit des fichiers CSV (locaux ou depuis une URL) en DataFrames Polars, en détectant automatiquement le séparateur.</p>
<section id="fonctionnalites">
<h2>Fonctionnalités<a class="headerlink" href="#fonctionnalites" title="Lien vers cette rubrique"></a></h2>
<ul class="simple">
<li><p>Chargement depuis une URL ou un fichier local, avec gestion des erreurs réseau.</p></li>
<li><p>Détection automatique du séparateur (csv.Sniffer), avec fallback sur le point-virgule.</p></li>
<li><p>Optimisations : troncature des lignes malformées et suppression des lignes vides.</p></li>
</ul>
<div class="admonition-usage admonition">
<p class="admonition-title">Usage</p>
<p>La classe <code class="docutils literal notranslate"><span class="pre">CSVToPolars</span></code> est utilisée dans :</p>
<ul class="simple">
<li><p>la fonction <code class="docutils literal notranslate"><span class="pre">_update_horaires_lieux_depuis_gl</span></code> du module <a class="reference internal" href="../processing/database_processor.html"><span class="doc">database_processor</span></a>, pour charger les CSV désignés par les variables <code class="docutils literal notranslate"><span class="pre">CSV_URL_PISCINES</span></code>, <code class="docutils literal notranslate"><span class="pre">CSV_URL_MAIRIES</span></code> et <code class="docutils literal notranslate"><span class="pre">CSV_URL_MEDIATHEQUES</span></code>.</p></li>
<li><p>la fonction <code class="docutils literal notranslate"><span class="pre">setup_execution</span></code> du module <a class="reference internal" href="../processing/setup_processor.html"><span class="doc">setup_processor</span></a>, pour charger le csv désigné par la varialbe <code class="docutils literal notranslate"><span class="pre">CSV_URL_HORAIRES</span></code></p></li>
</ul>
</div>
</section>
<section id="module-src.smart_watch.utils.CSVToPolars">
<span id="modules"></span><h2>Modules<a class="headerlink" href="#module-src.smart_watch.utils.CSVToPolars" title="Lien vers cette rubrique"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.smart_watch.utils.CSVToPolars.</span></span><span class="sig-name descname"><span class="pre">CSVToPolars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars" title="Lien vers cette définition"></a></dt>
<dd><p>Bases : <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(disponible dans Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars.__init__" title="Lien vers cette définition"></a></dt>
<dd><p>Initialise une instance de la classe pour charger et traiter un fichier CSV avec Polars.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><em>str</em></a><em>, </em><em>obligatoire</em>) – Chemin vers le fichier CSV à charger.</p></li>
<li><p><strong>separator</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><em>str</em></a><em>, </em><em>optionnel</em>) – Séparateur utilisé dans le fichier CSV. Par défaut « auto » pour une détection automatique.</p></li>
<li><p><strong>has_header</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)"><em>bool</em></a><em>, </em><em>optionnel</em>) – Indique si le fichier CSV contient une ligne d’en-tête. True par défaut.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars.source">
<span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars.source" title="Lien vers cette définition"></a></dt>
<dd><p>Chemin du fichier source CSV.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars.separator">
<span class="sig-name descname"><span class="pre">separator</span></span><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars.separator" title="Lien vers cette définition"></a></dt>
<dd><p>Séparateur utilisé pour lire le CSV.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars.df">
<span class="sig-name descname"><span class="pre">df</span></span><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars.df" title="Lien vers cette définition"></a></dt>
<dd><p>DataFrame Polars résultant du chargement du CSV.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pl.DataFrame | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars.has_header">
<span class="sig-name descname"><span class="pre">has_header</span></span><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars.has_header" title="Lien vers cette définition"></a></dt>
<dd><p>Indique la présence d’une ligne d’en-tête dans le CSV.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars._is_url">
<span class="sig-name descname"><span class="pre">_is_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars._is_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars._is_url" title="Lien vers cette définition"></a></dt>
<dd><p>Vérifie si la source fournie est une URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><em>str</em></a>) – La chaîne de caractères à vérifier.</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>True si la source commence par “<a class="reference external" href="http://">http://</a>” ou “<a class="reference external" href="https://">https://</a>”, sinon False.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars._detect_separator">
<span class="sig-name descname"><span class="pre">_detect_separator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars._detect_separator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars._detect_separator" title="Lien vers cette définition"></a></dt>
<dd><p>Détecte le séparateur de colonnes dans un échantillon de texte CSV.</p>
<p>Utilise la classe <cite>csv.Sniffer</cite> pour analyser l’échantillon et déterminer le séparateur utilisé.
Si la détection échoue, le séparateur par défaut “;” est utilisé.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><em>str</em></a>) – Un échantillon de texte représentant le contenu d’un fichier CSV.</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Le séparateur détecté ou “;” si la détection échoue.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars._download_to_temp_file">
<span class="sig-name descname"><span class="pre">_download_to_temp_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(disponible dans Python v3.13)"><span class="pre">Path</span></a></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars._download_to_temp_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars._download_to_temp_file" title="Lien vers cette définition"></a></dt>
<dd><p>Télécharge un fichier CSV depuis une URL et le sauvegarde dans un fichier temporaire.</p>
<p>Cette méthode effectue une requête HTTP GET vers l’URL spécifiée, vérifie le succès de la réponse,
puis écrit le contenu du fichier CSV dans un fichier temporaire sur le disque. Le chemin vers ce
fichier temporaire est ensuite retourné.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.13)"><em>str</em></a>) – L’URL du fichier CSV à télécharger.</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Le chemin vers le fichier temporaire contenant le CSV téléchargé.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Path</p>
</dd>
<dt class="field-even">Lève<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(disponible dans Python v3.13)"><strong>Exception</strong></a> – Si une erreur survient lors du téléchargement ou de la sauvegarde du fichier.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars._process_local_file">
<span class="sig-name descname"><span class="pre">_process_local_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(disponible dans Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cleanup_temp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars._process_local_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars._process_local_file" title="Lien vers cette définition"></a></dt>
<dd><p>Traite un fichier CSV local et le convertit en DataFrame Polars. Est appelé par _load_from_url et _load_from_path.</p>
<p>Cette méthode détecte automatiquement le séparateur si nécessaire, lit le fichier CSV en utilisant Polars,
et effectue si nécessaire un nettoyage du fichier temporaire après traitement.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>Path</em>) – Chemin vers le fichier CSV à traiter.</p></li>
<li><p><strong>cleanup_temp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(disponible dans Python v3.13)"><em>bool</em></a><em>, </em><em>optionnel</em>) – Indique si le fichier temporaire doit être supprimé après traitement.
Défaut à False.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame Polars contenant les données du fichier CSV.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>pl.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Le séparateur est détecté automatiquement si <cite>self.separator</cite> vaut « auto ».</p></li>
<li><p>Les lignes entièrement vides sont filtrées du DataFrame résultant.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars._load_from_url">
<span class="sig-name descname"><span class="pre">_load_from_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars._load_from_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars._load_from_url" title="Lien vers cette définition"></a></dt>
<dd><p>Charge un fichier CSV depuis une URL et le convertit en DataFrame Polars.</p>
<p>Cette méthode télécharge le fichier CSV depuis l’URL spécifiée dans <cite>self.source</cite>,
le sauvegarde dans un fichier temporaire, puis le traite pour le convertir en un DataFrame Polars.
Le fichier temporaire est supprimé après le traitement.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Le DataFrame Polars résultant du fichier CSV téléchargé.</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>pl.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars._load_from_path">
<span class="sig-name descname"><span class="pre">_load_from_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars._load_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars._load_from_path" title="Lien vers cette définition"></a></dt>
<dd><p>Charge un fichier CSV local et le convertit en DataFrame Polars.</p>
<p>Cette méthode vérifie l’existence du fichier CSV à partir du chemin spécifié dans <cite>self.source</cite>.
Si le fichier existe, il est traité et converti en DataFrame Polars via la méthode <cite>_process_local_file</cite>.
Si le fichier n’est pas trouvé, une exception <cite>FileNotFoundError</cite> est levée.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Le contenu du fichier CSV sous forme de DataFrame Polars.</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>pl.DataFrame</p>
</dd>
<dt class="field-odd">Lève<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(disponible dans Python v3.13)"><strong>FileNotFoundError</strong></a> – Si le fichier CSV local n’est pas trouvé au chemin spécifié.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.smart_watch.utils.CSVToPolars.CSVToPolars.load_csv">
<span class="sig-name descname"><span class="pre">load_csv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../../_modules/src/smart_watch/utils/CSVToPolars.html#CSVToPolars.load_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.smart_watch.utils.CSVToPolars.CSVToPolars.load_csv" title="Lien vers cette définition"></a></dt>
<dd><p>Charge un fichier CSV en tant que DataFrame Polars.</p>
<p>Cette méthode vérifie si la source du fichier CSV est une URL ou un chemin local,
puis charge le fichier en conséquence. Elle lève une exception si aucune source n’est spécifiée.
Un message d’information est enregistré après le chargement du fichier.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Le DataFrame Polars contenant les données du fichier CSV.</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>pl.DataFrame</p>
</dd>
<dt class="field-odd">Lève<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(disponible dans Python v3.13)"><strong>ValueError</strong></a> – Si aucune source de fichier CSV n’a été spécifiée.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="index.html" class="btn btn-neutral float-left" title="Modules Utils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="CustomJsonToOSM.html" class="btn btn-neutral float-right" title="CustomJsonToOSM" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <div class="custom-footer">
    <p><a href="https://github.com/datagora-erasme/smart_watch" target="_blank">SmartWatch</a> est développé par <a href="https://github.com/berangerthomas" target="_blank">Béranger THOMAS</a> 
        pour <a href="https://erasme.org/" target="_blank">ERASME</a> / <a href="https://www.grandlyon.com/" target="_blank">Métropole de Lyon</a></p>
    </div>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>