

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>src.smart_watch.core.Logger &mdash; SmartWatch Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="../../../../_static/favicon.jpg"/>
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=3afee5ec"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../../_static/translations.js?v=e6b791cb"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Recherche" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            SmartWatch
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../guide/introduction.html">Présentation du projet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guide/introduction.html#sommaire">Sommaire</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Démarrage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guide/docker.html">Utilisation avec Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guide/configuration.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture technique</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../source/main.html">Orchestrateur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture/diagramme.html">Pipeline de traitement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture/modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture/bdd.html">Base de données</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture/stack.html">Stack technique</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../source/modules/config/index.html">Modules Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Core</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../source/modules/core/index.html">Modules Core</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../source/modules/processing/index.html">Modules Processing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Reporting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../source/modules/reporting/index.html">Modules Reporting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules Utils</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../source/modules/utils/index.html">Modules Utils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">SmartWatch</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Code du module</a></li>
      <li class="breadcrumb-item active">src.smart_watch.core.Logger</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Code source de src.smart_watch.core.Logger</h1><div class="highlight"><pre>
<span></span><span class="c1"># Système de logging pour le projet smart_watch</span>
<span class="c1"># Documentation : https://datagora-erasme.github.io/smart_watch/source/modules/core/logger.html</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">logging.handlers</span><span class="w"> </span><span class="kn">import</span> <span class="n">RotatingFileHandler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span>


<div class="viewcode-block" id="LogLevel">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.LogLevel">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">LogLevel</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enumération des niveaux de journalisation pour le module Logger.</span>

<span class="sd">    Cette classe définit les différents niveaux de gravité utilisés pour la journalisation des messages dans l&#39;application. Chaque niveau correspond à une constante du module `logging` de Python.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        DEBUG (int): niveau de débogage, utilisé pour les informations détaillées utiles au diagnostic.</span>
<span class="sd">        INFO (int): niveau d&#39;information, utilisé pour les messages informatifs généraux.</span>
<span class="sd">        WARNING (int): niveau d&#39;avertissement, utilisé pour signaler des situations inattendues ou potentiellement problématiques.</span>
<span class="sd">        ERROR (int): niveau d&#39;erreur, utilisé pour les erreurs qui empêchent le fonctionnement normal de l&#39;application.</span>
<span class="sd">        CRITICAL (int): niveau critique, utilisé pour les erreurs graves nécessitant une attention immédiate.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">DEBUG</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span>
    <span class="n">INFO</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span>
    <span class="n">WARNING</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span>
    <span class="n">ERROR</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span>
    <span class="n">CRITICAL</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span></div>



<div class="viewcode-block" id="LogOutput">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.LogOutput">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">LogOutput</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enumération représentant les types de sortie pour les logs.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        FILE (LogOutput): sortie des logs dans un fichier.</span>
<span class="sd">        CONSOLE (LogOutput): sortie des logs dans la console.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">FILE</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>
    <span class="n">CONSOLE</span> <span class="o">=</span> <span class="s2">&quot;console&quot;</span></div>



<div class="viewcode-block" id="SmartWatchLogger">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">SmartWatchLogger</span><span class="p">:</span>
<div class="viewcode-block" id="SmartWatchLogger.__init__">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span>
        <span class="n">outputs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">LogOutput</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialise une instance du logger pour le module spécifié, avec les sorties désirées.</span>

<span class="sd">        Cette méthode configure le système de journalisation pour le module donné, en chargeant les variables d&#39;environnement, en définissant les sorties de log (fichier et/ou console), et en préparant le fichier de log dans le dossier approprié.</span>

<span class="sd">        Args:</span>
<span class="sd">            module_name (str, optional): nom du module à logger. Par défaut &quot;main&quot;.</span>
<span class="sd">            outputs (List[LogOutput], optional): liste des sorties de log à utiliser (par exemple fichier, console). Par défaut [LogOutput.FILE, LogOutput.CONSOLE].</span>

<span class="sd">        Attributes:</span>
<span class="sd">            module_name (str): nom du module associé au logger.</span>
<span class="sd">            outputs (List[LogOutput]): sorties de log configurées.</span>
<span class="sd">            log_file (Path): chemin vers le fichier de log.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">load_dotenv</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module_name</span> <span class="o">=</span> <span class="n">module_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">outputs</span> <span class="k">if</span> <span class="n">outputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="n">LogOutput</span><span class="o">.</span><span class="n">FILE</span><span class="p">,</span> <span class="n">LogOutput</span><span class="o">.</span><span class="n">CONSOLE</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parents</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="s2">&quot;logs&quot;</span> <span class="o">/</span> <span class="s2">&quot;SmartWatch.log&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_setup_logging</span><span class="p">()</span></div>


<div class="viewcode-block" id="SmartWatchLogger._setup_logging">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger._setup_logging">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">_setup_logging</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Configure le système de journalisation pour le module courant.</span>

<span class="sd">        Cette méthode initialise le logger en fonction du niveau de log spécifié dans la variable d&#39;environnement `LOG_LEVEL` (par défaut à &quot;INFO&quot;). Elle configure les handlers pour la sortie console et/ou fichier selon les options définies dans `self.outputs`. Le dossier de logs est créé si nécessaire, et la rotation des fichiers est gérée pour limiter la taille et le nombre de sauvegardes. Si le logger possède déjà des handlers, la configuration est ignorée.</span>

<span class="sd">        En cas d&#39;erreur lors de la configuration, le logger est désactivé et une erreur est affichée.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: si une erreur survient lors de la configuration du logger.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_level_str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;LOG_LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;INFO&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">log_level</span> <span class="o">=</span> <span class="n">LogLevel</span><span class="p">[</span><span class="n">log_level_str</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">log_level</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">hasHandlers</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> | </span><span class="si">%(levelname)s</span><span class="s2"> | </span><span class="si">%(name)s</span><span class="s2"> | </span><span class="si">%(message)s</span><span class="s2">&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Créer le dossier logs s&#39;il n&#39;existe pas</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="n">handler_map</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">LogOutput</span><span class="o">.</span><span class="n">FILE</span><span class="p">:</span> <span class="n">RotatingFileHandler</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span>
                    <span class="n">maxBytes</span><span class="o">=</span><span class="mi">50</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,</span>  <span class="c1"># 50 MB par fichier</span>
                    <span class="n">backupCount</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>  <span class="c1"># Garder 5 fichiers de sauvegarde</span>
                    <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">LogOutput</span><span class="o">.</span><span class="n">CONSOLE</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">),</span>
            <span class="p">}</span>

            <span class="k">for</span> <span class="n">output_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">output_type</span> <span class="ow">in</span> <span class="n">handler_map</span><span class="p">:</span>
                    <span class="n">handler</span> <span class="o">=</span> <span class="n">handler_map</span><span class="p">[</span><span class="n">output_type</span><span class="p">]</span>
                    <span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">available</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur lors de la configuration du logger: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">available</span> <span class="o">=</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="SmartWatchLogger._log">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger._log">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="n">LogLevel</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enregistre un message dans le journal selon le niveau spécifié.</span>

<span class="sd">        Cette méthode vérifie d&#39;abord si le logger est disponible avant d&#39;essayer d&#39;écrire le message. En cas d&#39;échec lors de l&#39;écriture, une erreur est affichée dans la sortie standard.</span>

<span class="sd">        Args:</span>
<span class="sd">            level (LogLevel): le niveau de log à utiliser (ex: INFO, WARNING, ERROR).</span>
<span class="sd">            message (str): le message à enregistrer dans le journal.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            Affiche une erreur dans la sortie standard si l&#39;écriture dans le journal échoue.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;available&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">available</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">level</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;écriture du log: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="SmartWatchLogger.log">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.log">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="n">LogLevel</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enregistre un message de journalisation avec un niveau spécifié.</span>

<span class="sd">        Args:</span>
<span class="sd">            level (LogLevel): le niveau de journalisation (ex. INFO, WARNING, ERROR).</span>
<span class="sd">            message (str): le message à enregistrer dans le journal.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></div>


    <span class="c1"># Les méthodes de journalisation pour les niveaux spécifiques</span>
    <span class="c1"># Elles permettent d&#39;utiliser les niveaux de log directement, exemple :</span>
    <span class="c1"># logger.debug(&quot;Ceci est un message de débogage&quot;)</span>
    <span class="c1"># logger.info(&quot;Ceci est un message d&#39;information&quot;)</span>
<div class="viewcode-block" id="SmartWatchLogger.debug">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.debug">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enregistre un message de débogage dans le journal.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (str): le message à enregistrer au niveau DEBUG.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">LogLevel</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></div>


<div class="viewcode-block" id="SmartWatchLogger.info">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.info">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enregistre un message d&#39;information dans le journal.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (str): le message à enregistrer au niveau INFO.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">LogLevel</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></div>


<div class="viewcode-block" id="SmartWatchLogger.warning">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.warning">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enregistre un message d&#39;alerte dans le journal.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (str): le message à enregistrer au niveau WARNING.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">LogLevel</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></div>


<div class="viewcode-block" id="SmartWatchLogger.error">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.error">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enregistre un message d&#39;erreur dans le journal.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (str): le message à enregistrer au niveau ERROR.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">LogLevel</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></div>


<div class="viewcode-block" id="SmartWatchLogger.critical">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.critical">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enregistre un message d&#39;alerte critique dans le journal.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (str): le message à enregistrer au niveau CRITICAL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">LogLevel</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></div>


<div class="viewcode-block" id="SmartWatchLogger.section">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.SmartWatchLogger.section">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="n">LogLevel</span> <span class="o">=</span> <span class="n">LogLevel</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Affiche une section formatée dans les logs, entourée de séparateurs pour mettre en valeur le titre.</span>

<span class="sd">        Args:</span>
<span class="sd">            title (str): le titre de la section à afficher dans les logs.</span>
<span class="sd">            level (LogLevel, optionnel): le niveau de log à utiliser pour cette section. Par défaut, LogLevel.INFO.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">separator</span> <span class="o">=</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">separator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">separator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="create_logger">
<a class="viewcode-back" href="../../../../source/modules/core/logger.html#src.smart_watch.core.Logger.create_logger">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">create_logger</span><span class="p">(</span>
    <span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SmartWatchLogger</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Crée et retourne une instance de SmartWatchLogger pour le module spécifié.</span>

<span class="sd">    Cette fonction permet de configurer les sorties du logger (fichier, console) en fonction de la liste fournie. Si aucune liste n&#39;est donnée, toutes les sorties disponibles sont utilisées par défaut. Les sorties non reconnues sont ignorées avec un avertissement.</span>

<span class="sd">    Args:</span>
<span class="sd">        module_name (str, optionnel): nom du module pour lequel le logger est créé. Par défaut &quot;main&quot;.</span>
<span class="sd">        outputs (List[str], optionnel): liste des sorties désirées pour le logger. Les valeurs acceptées sont &quot;file&quot; et &quot;console&quot;. Si None, toutes les sorties sont activées.</span>

<span class="sd">    Returns:</span>
<span class="sd">        SmartWatchLogger: instance configurée du logger pour le module spécifié.</span>

<span class="sd">    Warns:</span>
<span class="sd">        Affiche un avertissement dans la console si certains éléments de `outputs` ne sont pas reconnus.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">output_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">LogOutput</span><span class="o">.</span><span class="n">FILE</span><span class="p">,</span> <span class="s2">&quot;console&quot;</span><span class="p">:</span> <span class="n">LogOutput</span><span class="o">.</span><span class="n">CONSOLE</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">outputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log_outputs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">output_map</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">log_outputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">output_map</span><span class="p">[</span><span class="n">out</span><span class="p">]</span> <span class="k">for</span> <span class="n">out</span> <span class="ow">in</span> <span class="n">outputs</span> <span class="k">if</span> <span class="n">out</span> <span class="ow">in</span> <span class="n">output_map</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">log_outputs</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">outputs</span> <span class="ow">or</span> <span class="p">[]):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Warning: Certains outputs non reconnus ont été ignorés.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">SmartWatchLogger</span><span class="p">(</span><span class="n">module_name</span><span class="o">=</span><span class="n">module_name</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">log_outputs</span><span class="p">)</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <div class="custom-footer">
    <p><a href="https://github.com/datagora-erasme/smart_watch" target="_blank">SmartWatch</a> est développé par <a href="https://github.com/berangerthomas" target="_blank">Béranger THOMAS</a> 
        pour <a href="https://erasme.org/" target="_blank">ERASME</a> / <a href="https://www.grandlyon.com/" target="_blank">Métropole de Lyon</a></p>
    </div>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>