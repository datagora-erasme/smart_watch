#######################################################
##  Fichier CSV contenant les urls et les horaires   ##
##  de chaque établissement.                         ##
#######################################################
# Format du fichier CSV : type_lieu;identifiant;nom;url
#
# type_lieu = type de lieu (piscine, mairie, bibliothèque)
# identifiant = identifiant unique du lieu
# nom = nom du lieu
# url = URL vers la page web des horaires du lieu
#
CSV_URL_HORAIRES="https://monsite.org//alerte_modif_horaire_lieu.csv"


#######################################################
##  Fichier CSV de référence,                        ##
##  issues de data.grandlyon.com                     ##
#######################################################
## URLs des fichiers CSV de référence
CSV_URL_PISCINES="https://data.grandlyon.com/fr/datapusher/ws/grandlyon/adr_voie_lieu.adrequippiscinepct/all.csv?maxfeatures=-1&filename=piscines-metropole-lyon-point-interet"
CSV_URL_MAIRIES="https://data.grandlyon.com/fr/datapusher/ws/grandlyon/adr_voie_lieu.adrmairiepct/all.csv?maxfeatures=-1&filename=mairies-metropole-lyon-point-interet-v2"
CSV_URL_MEDIATHEQUES="https://data.grandlyon.com/fr/datapusher/ws/grandlyon/adr_voie_lieu.adrequiculturepct/all.csv?maxfeatures=-1&filename=bibliotheques-metropole-lyon-point-interet"

## Nombre de threads pour le traitement des URL
NB_THREADS_URL=1

## Niveau de log minimal (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL="DEBUG"


#######################################################
##  Filtrage sémantique du contenu Markdown          ##
#######################################################
# Seuil de similarité pour le filtrage des sections (0.0 = aucune similarité, 1.0 = identique)
SIMILARITY_THRESHOLD=0.6
# Sentencizer à utiliser pour le découpage du texte.
# Si cette variable est activée (non diésée), elle désactive les variables
# CHUNK_SIZE et CHUNK_OVERLAP.
# Valeurs possibles : "NLTK"
# SENTENCIZER="NLTK"
# Taille des chunks pour le découpage du texte
CHUNK_SIZE=100
# Chevauchement entre les chunks
CHUNK_OVERLAP=15
# Fenêtre de contexte pour le découpage du texte. En nombre de chunks.
CONTEXT_WINDOW_SIZE=1
# Longueur minimale du contenu pour qu'un Markdown soit filtré,
# en nombre de caractères.
MIN_CONTENT_LENGTH=1000
# Phrases de référence pour le filtrage du markdown (séparées par ';;')
REFERENCE_PHRASES="horaires;;ouvert;;fermé;;ouverture;;fermeture;;de 8h à 12h;;de 9h à 17h;;de 14h à 18h;;8h-12h;;9h-17h;;14h-18h;;8h00-12h00;;9h00-17h00;;14h00-18h00;;lundi 9h;;mardi 14h;;mercredi 8h30;;jeudi 9h30;;vendredi 17h;;samedi 10h;;dimanche 16h;;tous les jours;;du lundi au vendredi;;lundi au vendredi;;sauf dimanche;;sauf le dimanche;;fermé le lundi;;ouvert le samedi;;9h;;10h;;14h;;16h;;17h;;18h;;19h;;20h;;9h30;;14h30;;17h30;;matin;;après-midi;;matinée;;8h30-12h;;13h30-17h;;9h-12h 14h-17h;;vacances scolaires;;période scolaire;;été;;hiver;;jours fériés;;accueil du public;;ouvert au public;;réception;;permanence;;sur rendez-vous;;bibliothèque horaires;;piscine horaires;;mairie horaires;;médiathèque horaires;;fermé exceptionnellement;;fermeture annuelle;;congés;;fermé pour;;h à;;h-;;heures d';;de h;;jusqu'à h;;Lun;;Mar;;Mer;;Jeu;;Ven;;Sam;;Dim;;Lundi;;Mardi;;Mercredi;;Jeudi;;Vendredi;;Samedi;;Dimanche;;actuellement ouvert;;actuellement fermé;;en ce moment;;maintenant;;nage libre;;aquagym;;cours natation;;bassin ouvert;;créneaux;;8h-12h 13h30-17h30;;9h-12h 14h-18h;;8h30-12h 13h30-17h;;lundi 8h30-12h;;mardi 14h-17h;;mercredi 9h-12h;;08h00;;09h00;;14h00;;17h00;;18h00;;20h00;;toute la journée;;en continu;;sans interruption;;pause déjeuner;;mairie de;;ville de;;commune de;;piscine municipale;;bibliothèque municipale"


#######################################################
##  Appels au LLM et à l'embed                       ##
#######################################################
# Activer les clés API du modèle que vous souhaitez utiliser.

## Compatible OpenAI

# LLM
LLM_API_KEY_OPENAI="sk-dummyllm"
LLM_BASE_URL_OPENAI="https://monsite.org/v1"
LLM_MODELE_OPENAI="devstral"

# EMBED
# EMBED_API_KEY_OPENAI="sk-dummyembed"
EMBED_BASE_URL_OPENAI="https://monsite.org/v1"
EMBED_MODELE_OPENAI="nomic-embed-text"


## Compatible Mistral
# Pas besoin d'url car utilisation de la librairie Mistral

# LLM
# LLM_API_KEY_MISTRAL="mistraldummyakeyllm"
LLM_MODELE_MISTRAL="mistral-large-latest"

# EMBED
# EMBED_API_KEY_MISTRAL="mistraldummyakeyembed"
EMBED_MODELE_MISTRAL="mistral-embed"

# Modèle d'embedding local (si aucune clé API n'est fournie)
# Spécifiez le nom du modèle sentence-transformers à utiliser.
# Du plus léger au plus lourd mais plus performant également :
# sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
# sentence-transformers/paraphrase-multilingual-mpnet-base-v2
# jinaai/jina-embeddings-v3
EMBED_MODELE_LOCAL="jinaai/jina-embeddings-v3"

# Paramètres de connexion aux API
# Délai entre les appels aux API en secondes
DELAI_ENTRE_APPELS=1.0
# Délai en cas d'erreur lors des appels aux API en secondes
DELAI_EN_CAS_ERREUR=30.0
# Timeout pour les appels API LLM et EMBED en secondes
LLM_TIMEOUT=600
# Seed pour la reproductibilité des appels LLM (optionnel)
LLM_SEED=42

#######################################################
##  Paramètres email (envoi du rapport)              ##
#######################################################
MAIL_EMETTEUR="no-reply@monsite.org"
MAIL_RECEPTEUR="admin@monsite.org,monitoring@monsite.org"
SMTP_SERVER="smtp.monsite.org"
SMTP_PORT=465
SMTP_LOGIN="login"
SMTP_PASSWORD="password"
